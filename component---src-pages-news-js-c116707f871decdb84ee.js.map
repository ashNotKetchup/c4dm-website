{"version":3,"file":"component---src-pages-news-js-c116707f871decdb84ee.js","mappings":"sLAmHA,UA9FaA,IAAoB,IAAnB,YAACC,GAAYD,EAIzB,MACEE,YAAY,OAAEC,IACZF,EAEEG,GAAOC,EAAAA,EAAAA,gBAAe,cAuCpB,EAACC,EAAc,EAACC,IAAoBC,EAAAA,EAAAA,UAASJ,EAAKK,KAAKC,OAEvDC,GAAmBC,EAAAA,EAAAA,cAAaF,IACpCH,EAAiBG,EAAM,GACtB,CAACH,IAEN,OACEM,EAAAA,cAACC,EAAAA,EAAM,CAACC,KAAK,OAAOZ,OAAQA,GAC1BU,EAAAA,cAAA,WAASG,UAAU,WACjBH,EAAAA,cAACI,EAAAA,EAAmB,CAClBC,KAAK,kBACLC,gBAAgB,UAChBC,UAAU,QACVJ,UAAU,SAGZH,EAAAA,cAAA,OACEG,UAAU,UACVK,wBAAyB,CAAEC,OAAQlB,EAAKmB,MAAMC,QAGhDX,EAAAA,cAAA,KAAGG,UAAU,mBAAmB,0BAIhCH,EAAAA,cAACY,EAAAA,EAAW,CAACC,KAAMtB,EAAKuB,QAASjB,MAAON,EAAKK,KAAKC,MAAON,KAAMA,EAAMwB,SAAUjB,IAG9EL,EAAcuB,KAAKC,IACdjB,SAAAA,cAAA,OACEG,UAAU,sCACVe,IAAKD,EAAUE,IAEfnB,EAAAA,cAACoB,EAAAA,KAAI,CAACC,GAAIJ,EAAUK,OAAOC,MACzBvB,EAAAA,cAACwB,EAAAA,EAAS,CACRC,OA7FCC,EA6FkBT,EAAUU,YAAYD,KA7F/B1B,EAAAA,cAAA,KAAGG,UAAU,iBAAiBuB,GAAQ,OA8FhDE,QA5FEC,EA4FmBZ,EAAUU,YAAYE,MA3F3D7B,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAA,KAAGG,UAAU,cAAc0B,GAAS,iBAAiB,KACrD7B,EAAAA,cAAA,OAAKG,UAAU,0DAAyD,mBAHxD0B,MAFDH,CAmGb,KAEK,C","sources":["webpack://c4dm-website/./src/pages/news.js"],"sourcesContent":["import React, {useState, useCallback} from \"react\";\nimport { graphql, Link, useStaticQuery } from \"gatsby\";\nimport Layout from \"../components/layout\";\nimport TableCard from \"../components/tableCard\";\nimport TagSelector from \"../components/tagSelector\";\nimport ParallelogramHeader from \"../components/parallelogramHeader\";\nimport \"../style/bulmacustom.scss\"\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\n\n// Return structured content for table card\nconst firstColumn = (date) => <p className=\"subtitle is-6\">{date || null}</p>;\n\nconst secondColumn = (title) => (\n    <>               \n      <p className=\"title is-4\">{title || \"New Blog Entry\"} </p>\n      <div className=\"card-footer p-2 has-text-centered is-align-self-center\">\n        Read More\n      </div>\n    </>\n)\n\nconst News = ({pageContext}) => {\n\n\n\n  const {\n    breadcrumb: { crumbs },\n  } = pageContext\n\n  const data = useStaticQuery(graphql`\n  {\n    news: allMarkdownRemark(\n    filter: {fields: {category: {eq: \"news\"}}}\n    sort: {frontmatter: {date: DESC}}\n    ) {\n      nodes {\n        fields {\n          slug\n        }\n        frontmatter {\n          title\n          tags\n          date(formatString: \"ddd DD MMM yy\")\n        }\n        id\n      }\n    }\n\n    allTags: allMarkdownRemark(\n          limit: 2000\n          filter: {fields: {category: {eq: \"news\"}}}\n          ) {\n          group(field: { frontmatter: { tags: SELECT }}) {\n            fieldValue\n            totalCount\n          }\n        }\n      \n    about: markdownRemark(\n        fields: { category: { eq: \"about\" } }\n        fileAbsolutePath: { regex: \"/news.md/\" }\n      ) {\n      html\n      }  \n\n  }\n  `);\n\n    const [filteredNodes, setFilteredNodes] = useState(data.news.nodes);\n\n    const getFilteredNodes = useCallback((nodes) => {\n      setFilteredNodes(nodes);\n    }, [setFilteredNodes]);\n\n  return (\n    <Layout name=\"News\" crumbs={crumbs}>\n      <section className=\"section\">\n        <ParallelogramHeader\n          text=\"News and Events\"\n          backgroundColor=\"primary\"\n          textColor=\"white\"\n          className=\"mb-6\"\n        />\n\n        <div\n          className=\"content\"\n          dangerouslySetInnerHTML={{ __html: data.about.html }}\n        ></div>\n\n        <p className=\"title is-4 pt-5\" >Latest News and Events</p>\n\n      \n        \n        <TagSelector tags={data.allTags} nodes={data.news.nodes} data={data} callback={getFilteredNodes}/>\n\n\n        {filteredNodes.map((blogentry) => (\n              <div\n                className=\"card-image row is-three-fifths pt-3\"\n                key={blogentry.id}\n              >\n                <Link to={blogentry.fields.slug}>\n                  <TableCard\n                    first={firstColumn(blogentry.frontmatter.date)}\n                    second={secondColumn(blogentry.frontmatter.title)}\n                  />\n                </Link>\n              </div>\n          )\n        )}\n      </section>\n    </Layout>\n  );\n};\n\nexport default News;"],"names":["_ref","pageContext","breadcrumb","crumbs","data","useStaticQuery","filteredNodes","setFilteredNodes","useState","news","nodes","getFilteredNodes","useCallback","React","Layout","name","className","ParallelogramHeader","text","backgroundColor","textColor","dangerouslySetInnerHTML","__html","about","html","TagSelector","tags","allTags","callback","map","blogentry","key","id","Link","to","fields","slug","TableCard","first","date","frontmatter","second","title"],"sourceRoot":""}